{"version":3,"sources":["webpack:///./examples/mindNode.js","webpack:///./examples/mindNode/index.jsx"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F,sI;;;;;;;AClBA;;AAEA;AACA;AACA,EAAC;;AAED,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,kBAAkB;;AAE/F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,kDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,UAAS,8DAA8D;AACvE,mDAAkD,wCAAwC;AAC1F;AACA;AACA,YAAW,kBAAkB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,uEAAsE;AACtE;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,yBAAwB;AACxB;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;AACA,qC","file":"mindNode.js","sourcesContent":["'use strict';\n\nrequire('normalize.css');\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _index = require('./mindNode/index.jsx');\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n_reactDom2[\"default\"].render(_react2[\"default\"].createElement(_index2[\"default\"], null), document.getElementById('__react-content'));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./examples/mindNode.js\n ** module id = 225\n ** module chunks = 1\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _rcSpider = require('rc-spider');\n\nvar _rcSpider2 = _interopRequireDefault(_rcSpider);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _uuid = require('uuid');\n\nvar _uuid2 = _interopRequireDefault(_uuid);\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar width = 1280;\nvar height = 800;\nvar viewerWidth = window.innerWidth;\nvar viewerHeight = window.innerHeight;\n\nvar _Spider$Shape = _rcSpider2[\"default\"].Shape;\nvar Node = _Spider$Shape.Node;\nvar Circle = _Spider$Shape.Circle;\nvar Text = _Spider$Shape.Text;\nvar Link = _Spider$Shape.Link;\n\nwindow.GLOBAL_LINK_STROKE = '#ccc';\n\nfunction getNode(name) {\n  return {\n    id: _uuid2[\"default\"].v1(),\n    name: name || 'New Node',\n    children: []\n  };\n}\n\nfunction centerNode() {}\n\nvar MindNode = function (_React$Component) {\n  _inherits(MindNode, _React$Component);\n\n  function MindNode() {\n    _classCallCheck(this, MindNode);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(MindNode).call(this));\n\n    _this.state = {\n      data: null,\n      transform: null,\n      scale: 1\n    };\n    return _this;\n  }\n\n  _createClass(MindNode, [{\n    key: 'nodeClick',\n    value: function nodeClick(data) {\n      if (data.children) {\n        data._children = data.children;\n        data.children = null;\n      } else {\n        data.children = data._children;\n        data._children = null;\n      }\n      this.setState({\n        data: this.state.data,\n        transform: this.spiderTransform(data)\n      });\n    }\n  }, {\n    key: 'nodeCreator',\n    value: function nodeCreator(data) {\n      return _react2[\"default\"].createElement(\n        Node,\n        { width: '4', height: '4', onClick: this.nodeClick.bind(this) },\n        _react2[\"default\"].createElement(Circle, { stroke: '#4682B4', strokeWidth: '1.5' }),\n        _react2[\"default\"].createElement(\n          Text,\n          { offset: [5, -4] },\n          data.name\n        )\n      );\n    }\n    /**\n     * move spider to center\n     * @param root\n     */\n\n  }, {\n    key: 'spiderTransform',\n    value: function spiderTransform(root) {\n      var scale = this.state.scale;\n      var x = -root.x;\n      var y = -root.y;\n      y += viewerWidth / 2;\n      x += viewerHeight / 2;\n      return new _rcSpider2[\"default\"].Transform().translate(y, x);\n    }\n    /**\n     * load data...\n     */\n\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var data = new Request('./tree.json');\n      fetch(data).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        _this2.setState({\n          data: response\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var root = this.state.data;\n      var transform = this.state.transform;\n      if (!root) {\n        return _react2[\"default\"].createElement(\n          'div',\n          null,\n          ' loading... '\n        );\n      }\n\n      // compute the new height of tree\n      var levelWidth = [1];\n      function childCount(node) {\n        var level = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n        if (node.children && node.children.length > 0) {\n          if (levelWidth.length <= level + 1) levelWidth.push(0);\n          levelWidth[level + 1] += node.children.length;\n          node.children.forEach(function (child) {\n            return childCount(child, level + 1);\n          });\n        }\n      }\n      childCount(root);\n      var newHeight = _lodash2[\"default\"].max(levelWidth) * 25;\n\n      var tree = _rcSpider2[\"default\"].layout.tree().size([newHeight, viewerWidth]);\n      var data = tree.data(root);\n\n      if (!transform) {\n        transform = this.spiderTransform(root);\n      }\n      return _react2[\"default\"].createElement(_rcSpider2[\"default\"], { width: viewerWidth, height: viewerHeight,\n        projection: function projection(n) {\n          return [n.y, n.x];\n        },\n        transform: transform,\n        nodeCreator: this.nodeCreator.bind(this),\n        dataSource: data,\n        moveable: true });\n    }\n  }]);\n\n  return MindNode;\n}(_react2[\"default\"].Component);\n\nexports[\"default\"] = MindNode;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./examples/mindNode/index.jsx\n ** module id = 226\n ** module chunks = 1\n **/"],"sourceRoot":""}